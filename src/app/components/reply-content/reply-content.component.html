<div>
  <div class="font-bold text-2xl mb-1">Discussion</div>
  <form
    [formGroup]="submitForm"
    (ngSubmit)="onSubmit($event)"
    onsubmit="event.preventDefault()"
  >
    <div class="flex gap-2 items-center justify-center">
      <input
        class="w-full max-sm:mt-20 flex p-3 bg-[#f8f8ff] border-2 border-black rounded-md"
        type="text"
        placeholder="Type your Reply"
        formControlName="ip"
      />
      <button (click)="onSubmit($event)">
        <svg
          *ngIf="submitTrue == 1"
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 512 512"
        >
          <path
            fill="currentColor"
            d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zm149.3 277.3c0 11.8-9.5 21.3-21.3 21.3h-85.3V384c0 11.8-9.5 21.3-21.3 21.3h-42.7c-11.8 0-21.3-9.6-21.3-21.3v-85.3H128c-11.8 0-21.3-9.6-21.3-21.3v-42.7c0-11.8 9.5-21.3 21.3-21.3h85.3V128c0-11.8 9.5-21.3 21.3-21.3h42.7c11.8 0 21.3 9.6 21.3 21.3v85.3H384c11.8 0 21.3 9.6 21.3 21.3v42.7z"
          />
        </svg>
        <div class="bg-white">
          <svg
            *ngIf="submitTrue == 0"
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 33 33"
          >
            <rect width="2.8" height="12" x="1" y="6" fill="currentColor">
              <animate
                attributeName="y"
                begin="svgSpinnersBarsScaleMiddle0.begin+0.4s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="6;1;6"
              />
              <animate
                attributeName="height"
                begin="svgSpinnersBarsScaleMiddle0.begin+0.4s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="12;22;12"
              />
            </rect>
            <rect width="2.8" height="12" x="5.8" y="6" fill="currentColor">
              <animate
                attributeName="y"
                begin="svgSpinnersBarsScaleMiddle0.begin+0.2s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="6;1;6"
              />
              <animate
                attributeName="height"
                begin="svgSpinnersBarsScaleMiddle0.begin+0.2s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="12;22;12"
              />
            </rect>
            <rect width="2.8" height="12" x="10.6" y="6" fill="currentColor">
              <animate
                id="svgSpinnersBarsScaleMiddle0"
                attributeName="y"
                begin="0;svgSpinnersBarsScaleMiddle1.end-0.1s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="6;1;6"
              />
              <animate
                attributeName="height"
                begin="0;svgSpinnersBarsScaleMiddle1.end-0.1s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="12;22;12"
              />
            </rect>
            <rect width="2.8" height="12" x="15.4" y="6" fill="currentColor">
              <animate
                attributeName="y"
                begin="svgSpinnersBarsScaleMiddle0.begin+0.2s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="6;1;6"
              />
              <animate
                attributeName="height"
                begin="svgSpinnersBarsScaleMiddle0.begin+0.2s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="12;22;12"
              />
            </rect>
            <rect width="2.8" height="12" x="20.2" y="6" fill="currentColor">
              <animate
                id="svgSpinnersBarsScaleMiddle1"
                attributeName="y"
                begin="svgSpinnersBarsScaleMiddle0.begin+0.4s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="6;1;6"
              />
              <animate
                attributeName="height"
                begin="svgSpinnersBarsScaleMiddle0.begin+0.4s"
                calcMode="spline"
                dur="0.6s"
                keySplines=".14,.73,.34,1;.65,.26,.82,.45"
                values="12;22;12"
              />
            </rect>
          </svg>
        </div>
      </button>
    </div>
  </form>
  <div
    *ngIf="problemDetails[0].replyMain[0].reply.content != null"
    class="flex flex-col gap-4 bg-[#f6f6f6] justify-center rounded-2xl drop-shadow-lg p-4 mt-2"
  >
    <svg
      *ngIf="loadTrue == 1"
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      viewBox="0 0 33 33"
    >
      <rect width="2.8" height="12" x="1" y="6" fill="currentColor">
        <animate
          attributeName="y"
          begin="svgSpinnersBarsScaleMiddle0.begin+0.4s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="6;1;6"
        />
        <animate
          attributeName="height"
          begin="svgSpinnersBarsScaleMiddle0.begin+0.4s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="12;22;12"
        />
      </rect>
      <rect width="2.8" height="12" x="5.8" y="6" fill="currentColor">
        <animate
          attributeName="y"
          begin="svgSpinnersBarsScaleMiddle0.begin+0.2s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="6;1;6"
        />
        <animate
          attributeName="height"
          begin="svgSpinnersBarsScaleMiddle0.begin+0.2s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="12;22;12"
        />
      </rect>
      <rect width="2.8" height="12" x="10.6" y="6" fill="currentColor">
        <animate
          id="svgSpinnersBarsScaleMiddle0"
          attributeName="y"
          begin="0;svgSpinnersBarsScaleMiddle1.end-0.1s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="6;1;6"
        />
        <animate
          attributeName="height"
          begin="0;svgSpinnersBarsScaleMiddle1.end-0.1s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="12;22;12"
        />
      </rect>
      <rect width="2.8" height="12" x="15.4" y="6" fill="currentColor">
        <animate
          attributeName="y"
          begin="svgSpinnersBarsScaleMiddle0.begin+0.2s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="6;1;6"
        />
        <animate
          attributeName="height"
          begin="svgSpinnersBarsScaleMiddle0.begin+0.2s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="12;22;12"
        />
      </rect>
      <rect width="2.8" height="12" x="20.2" y="6" fill="currentColor">
        <animate
          id="svgSpinnersBarsScaleMiddle1"
          attributeName="y"
          begin="svgSpinnersBarsScaleMiddle0.begin+0.4s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="6;1;6"
        />
        <animate
          attributeName="height"
          begin="svgSpinnersBarsScaleMiddle0.begin+0.4s"
          calcMode="spline"
          dur="0.6s"
          keySplines=".14,.73,.34,1;.65,.26,.82,.45"
          values="12;22;12"
        />
      </rect>
    </svg>
    <div *ngFor="let item of problemDetails[0].replyMain">
      <div class="flex flex-row items-center gap-2">
        <div *ngIf="item.user.profileImg != ''">
          <img
            [src]="item.user.profileImg"
            class="h-20 w-20 rounded-full object-cover"
          />
        </div>
        <div *ngIf="item.user.profileImg == ''">
          <img [src]="defaultUrl" class="h-20 w-20 rounded-full object-cover" />
        </div>
        <div class="flex flex-col">
          <div class="font-bold">{{ item.user.name }}</div>
          <div class="text-2xl">
            {{ item.reply.content }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
